# SYSTEM
set system name-server 192.168.100.144
set system tacplus-server 192.168.100.144 source-address 172.20.20.1
set system host-name pe1-lnd
set system root-authentication encrypted-password "$6$dNQpRwR.$h1vuHiRNYjmGdbJi6zP37o7N88EJAiKMy2/.k0O/8DbCgF.aelK3.lRUzZszWBWmMDQ1qI2XRwpVOinJc33T80"
set system login user admin uid 2000
set system login user admin class super-user
set system login user admin authentication encrypted-password "$6$gj/bw.Er$4vJ1lpAnXxhLtnClOcuK7csBIbaaHY13fCzQkEv72im02Bj810X/o3TpM9DxSpNNa1OXSwBzpsu8qr9Dtrn9I0"
set system services netconf ssh
set system services ssh root-login allow
set system management-instance
set system syslog user * any critical
set system syslog host 192.168.100.144 any notice
set system syslog host 192.168.100.144authorization info
set system syslog host 192.168.100.144 interactive-commands any
set system syslog host 192.168.100.144 source-address 172.20.20.1
set system syslog host 192.168.100.144structured-data
set system syslog file config-changes change-log any
set system syslog file config-changes archive size 1m
set system syslog file config-changes archive files 5
set system syslog file error-messages any error
set system syslog file error-messages archive size 1m
set system syslog file error-messages archive files 5
set system syslog file error-messages explicit-priority
set system syslog file interactive-commands interactive-commands any
set system syslog file messages any notice
set system syslog file messages authorization info
set system syslog file messages archive size 1m
set system syslog file messages archive files 15
set system syslog console any error
set system syslog console daemon none
set system syslog console kernel none
set system syslog console pfe none
set system syslog routing-instance mgmt_junos
set system archival configuration transfer-on-commit
set system archival configuration routing-instance mgmt_junos
set system archival configuration archive-sites "scp://rado@192.168.100.144/home/rado/Desktop/lab_config_archive/" password "$9$bywgJQz6u0IGDCuB1hcVws"
set system ntp authentication-key 1 type md5
set system ntp authentication-key 1 value "$9$8.jxVYg4ZiHmYg"
set system ntp server 192.168.100.144 version 3
set system ntp server 192.168.100.144 routing-instance mgmt_junos
set system ntp trusted-key 1
set system ntp source-address 172.20.20.1# CHASSIS
# SECURITY
# INTERFACES
set interfaces lo0 unit 0 family inet address 150.0.0.1
set interfaces lo0 unit 0 family inet filter input re-protect
set interfaces lo0 unit 0 family inet6 address 2001:db8::1
set interfaces ge-0/0/0 description "PE2-LND;ge-0/0/0"
set interfaces ge-0/0/0 mtu 9192
set interfaces ge-0/0/0.100 description "PE2-LND;ge-0/0/0"
set interfaces ge-0/0/0.100 vlan-id 100
set interfaces ge-0/0/0.100 family inet address 10.100.10.0/31
set interfaces ge-0/0/0.100 family inet6 address 2001:abcd:10a::a/64
set interfaces ge-0/0/1 description "P1-LND;ge-0/0/1"
set interfaces ge-0/0/1 mtu 9192
set interfaces ge-0/0/1.100 description "P1-LND;ge-0/0/1"
set interfaces ge-0/0/1.100 vlan-id 100
set interfaces ge-0/0/1.100 family inet address 10.100.10.2/31
set interfaces ge-0/0/1.100 family inet6 address 2001:abcd:10b:a/64
set interfaces ge-0/0/2 description "P2-LND;ge-0/0/1"
set interfaces ge-0/0/2 mtu 9192
set interfaces ge-0/0/2.100 description "P2-LND;ge-0/0/1"
set interfaces ge-0/0/2.100 vlan-id 100
set interfaces ge-0/0/2.100 family inet address 10.100.10.4/31
set interfaces ge-0/0/2.100 family inet6 address 2001:abcd:10c:a/64
# SNMP
# FORWARDING-OPTIONS
# POLICY-OPTIONS
set policy-options prefix-list bgp-inet-peers apply-path "protocols bgp group <*> neighbor <*>"
set policy-options prefix-list bgp-vpn-peers apply-path "routing-instances <*> protocols bgp group <*> neighbor <*>"
set policy-options prefix-list mgmt-network 172.20.20.0/24
set policy-options prefix-list mgmt-network 192.168.100.0/24
set policy-options policy-statement load-balance then load-balance per-flow# CLASS-OF-SERVICE
# FIREWALL
# ROUTING-OPTIONS
set routing-options router-id 150.0.0.1
set routing-options autonomous-system 123456
set routing-options forwarding-table export load-balance
set routing-options forwarding-table ecmp-fast-reroute# PROTOCOLS
set protocols bgp log-updown
set protocols bgp path-selection always-compare-med
set protocols bgp path-selection external-router-id
set protocols bgp group ibgp-rr-v4 type internal
set protocols bgp group ibgp-rr-v4 local-address 150.0.0.1
set protocols bgp group ibgp-rr-v4 mtu-discovery
set protocols bgp group ibgp-rr-v4 family inet unicast add-path receive
set protocols bgp group ibgp-rr-v4 family inet-vpn unicast
set protocols bgp group ibgp-rr-v4 family evpn signaling
set protocols bgp group ibgp-rr-v4 family inet-mvpn signaling
set protocols bgp group ibgp-rr-v4 family route-target
set protocols bgp group ibgp-rr-v4 authentication-key "$9$wN2JDiHmQz6Di"
set protocols bgp group ibgp-rr-v4 multipath
set protocols bgp group ibgp-rr-v4 neighbor 150.0.0.253 bfd-liveness-detection minimum-interval 250
set protocols bgp group ibgp-rr-v4 neighbor 150.0.0.253 bfd-liveness-detection multiplier 3
set protocols bgp group ibgp-rr-v4 neighbor 150.0.0.254 bfd-liveness-detection minimum-interval 250
set protocols bgp group ibgp-rr-v4 neighbor 150.0.0.254 bfd-liveness-detection multiplier 3
set protocols bgp group ibgp-rr-v6 type internal
set protocols bgp group ibgp-rr-v6 local-address 2001:db8::1
set protocols bgp group ibgp-rr-v6 mtu-discovery
set protocols bgp group ibgp-rr-v6 family inet6 unicast add-path receive
set protocols bgp group ibgp-rr-v6 family inet6-vpn unicast
set protocols bgp group ibgp-rr-v6 family evpn signaling
set protocols bgp group ibgp-rr-v6 family inet-mvpn signaling
set protocols bgp group ibgp-rr-v6 family route-target
set protocols bgp group ibgp-rr-v6 authentication-key "$9$wN2JDiHmQz6Di"
set protocols bgp group ibgp-rr-v6 multipath
set protocols bgp group ibgp-rr-v6 neighbor 2001:db8::fffe bfd-liveness-detection minimum-interval 250
set protocols bgp group ibgp-rr-v6 neighbor 2001:db8::fffe bfd-liveness-detection multiplier 3
set protocols bgp group ibgp-rr-v6 neighbor 2001:db8::ffff bfd-liveness-detection minimum-interval 250
set protocols bgp group ibgp-rr-v6 neighbor 2001:db8::ffff bfd-liveness-detection multiplier 3
set protocols isis interface lo0.0 passive
set protocols isis level 1 disable
set protocols isis level 2 authentication-key "$9$vM/8NbsYoUDkbs"
set protocols isis level 2 authentication-type simple
set protocols isis level 2 wide-metrics-only
set protocols isis reference-bandwidth 100g
set protocols isis topologies ipv4-multicast
set protocols isis topologies ipv6-unicast
set protocols isis interface ge-0/0/0.100 ldp-synchronization
set protocols isis interface ge-0/0/0.100 node-link-protection
set protocols isis interface ge-0/0/0.100 point-to-point
set protocols isis interface ge-0/0/0.100 level 2 metric 500
set protocols isis interface ge-0/0/1.100 ldp-synchronization
set protocols isis interface ge-0/0/1.100 node-link-protection
set protocols isis interface ge-0/0/1.100 point-to-point
set protocols isis interface ge-0/0/1.100 level 2 metric 1000
set protocols isis interface ge-0/0/2.100 ldp-synchronization
set protocols isis interface ge-0/0/2.100 node-link-protection
set protocols isis interface ge-0/0/2.100 point-to-point
set protocols isis interface ge-0/0/2.100 level 2 metric 99999
set protocols ldp track-igp-metric
set protocols ldp deaggregate
set protocols ldp explicit-null
set protocols ldp interface lo0.0
set protocols ldp session-protection
set protocols ldp interface ge-0/0/0.100
set protocols ldp interface ge-0/0/1.100
set protocols ldp interface ge-0/0/2.100
set protocols lldp port-id-subtype interface-name
set protocols lldp interface ge-0/0/0
set protocols lldp interface ge-0/0/1
set protocols lldp interface ge-0/0/2
set protocols rsvp interface ge-0/0/0.100 link-protection
set protocols rsvp interface ge-0/0/1.100 link-protection
set protocols rsvp interface ge-0/0/2.100 link-protection
set protocols mpls apply-groups lsp-defaults
set protocols mpls admin-groups CORE-0 0
set protocols mpls admin-groups INTER-PLANE 1
  set protocols mpls interface ge-0/0/0.100 admin-group CORE-0
  set protocols mpls interface ge-0/0/0.100 admin-group INTER-PLANE
  set protocols mpls interface ge-0/0/1.100 admin-group CORE-0
  set protocols mpls interface ge-0/0/2.100
